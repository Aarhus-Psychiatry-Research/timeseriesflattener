Search.setIndex({"docnames": ["faq", "feature_specifications", "index", "installation", "timeseriesflattener", "tutorials", "tutorials/01_basic", "tutorials/02_advanced", "tutorials/03_text", "tutorials/04_from_legacy"], "filenames": ["faq.rst", "feature_specifications.rst", "index.rst", "installation.rst", "timeseriesflattener.rst", "tutorials.rst", "tutorials/01_basic.ipynb", "tutorials/02_advanced.ipynb", "tutorials/03_text.ipynb", "tutorials/04_from_legacy.ipynb"], "titles": ["Frequently Asked Questions", "Feature specifications", "timeseriesflattener", "Installation", "Timeseriesflattener", "Tutorials", "Introductory Tutorial", "Doing multiple things at once!", "Adding text features", "Creating features from legacy feature specifications"], "terms": {"If": [0, 6, 9], "you": [0, 1, 4, 5, 6, 7, 8, 9], "wish": [0, 7], "us": [0, 1, 2, 3, 4, 5, 6, 7, 8], "librari": 0, "your": [0, 3, 6], "research": 0, "pleas": [0, 2], "joss": 0, "paper": 0, "articl": 0, "bernstorff2023timeseriesflatten": 0, "titl": 0, "timeseriesflatten": [0, 3, 6, 7, 8, 9], "A": [0, 1, 2, 4, 6], "python": [0, 2], "summar": 0, "featur": [0, 2, 5, 6], "from": [0, 1, 2, 4, 5, 6], "medic": [0, 2, 6], "time": [0, 1, 2, 4, 5, 7], "seri": [0, 1, 2, 4, 6], "author": 0, "bernstorff": 0, "martin": 0, "enevoldsen": 0, "kenneth": 0, "damgaard": 0, "jakob": 0, "danielsen": 0, "andrea": 0, "hansen": 0, "lass": 0, "journal": 0, "open": 0, "sourc": [0, 1, 4], "softwar": 0, "volum": 0, "8": [0, 6], "number": [0, 2, 6, 8], "83": 0, "page": [0, 2], "5197": 0, "year": [0, 7], "2023": 0, "Or": 0, "prefer": 0, "apa": 0, "m": 0, "k": 0, "j": 0, "l": 0, "come": 0, "an": [0, 1, 2, 6, 7, 8], "extens": 0, "In": [0, 1, 6, 7], "order": [0, 5], "ll": [0, 6], "usual": 0, "want": [0, 6, 7, 8, 9], "clone": 0, "repositori": 0, "build": 0, "also": [0, 5, 6], "instal": 0, "requir": [0, 1, 2, 4, 6, 7], "develop": 0, "depend": 0, "util": 0, "defin": [0, 1, 4, 7, 8, 9], "pyproject": 0, "toml": 0, "pip": [0, 3], "e": [0, 1, 2, 6], "dev": 0, "pytest": 0, "which": [0, 1, 2, 4, 5, 6, 7], "all": [0, 6, 7, 8, 9], "folder": 0, "specif": [0, 4, 5, 8], "can": [0, 1, 2, 5, 6, 7, 8], "desired_test": 0, "py": 0, "sphinx": 0, "It": [0, 6, 9], "furo": 0, "theme": 0, "custom": 0, "style": 0, "To": [0, 2, 3, 5, 6, 7, 8], "make": [0, 2, 6, 7, 8], "doc": [0, 6], "text": [0, 5], "html": 0, "c": [0, 2, 8], "class": [1, 4, 6], "coercedfloat": 1, "lookperiod": [1, 5], "fallback": [1, 6, 7, 8, 9], "union": [1, 4], "float": [1, 8], "int": [1, 4, 7], "base": [1, 4, 7], "object": [1, 4, 6], "min_dai": [1, 6], "max_dai": [1, 6], "outcomespec": [1, 4, 6], "timeseries_df": 1, "datafram": [1, 2, 4, 5, 6, 8, 9], "feature_base_nam": 1, "str": [1, 4, 8], "lookahead_dai": 1, "tupl": [1, 6, 7], "aggregation_fn": [1, 9], "callabl": 1, "dataframegroupbi": 1, "incid": 1, "bool": [1, 4], "prefix": [1, 4, 6], "outc": [1, 4, 6], "basemodel": [1, 4], "outcom": [1, 2, 5], "paramet": [1, 4, 6], "valu": [1, 2, 4, 5, 6, 8, 9], "should": [1, 4, 6, 7, 8, 9], "contain": [1, 4, 6, 7, 8], "column": [1, 2, 4, 6, 7, 8], "entity_id": [1, 4, 6, 7, 8], "id": [1, 2, 6, 7, 8], "entiti": [1, 6, 7], "each": [1, 2, 5, 6, 7, 8], "belong": 1, "The": [1, 2, 5, 6, 7, 9], "timeseri": [1, 4, 6], "timestamp": [1, 4, 6, 7, 8, 9], "datetim": [1, 6, 7, 8], "note": [1, 6, 7, 8], "name": [1, 4, 6, 7, 9], "overridden": 1, "when": [1, 2, 6], "initialis": 1, "gener": [1, 2, 5, 6, 9], "g": [1, 2], "_": 1, "feature_baase_nam": 1, "metadata": [1, 4, 6, 8], "interv": [1, 6, 7], "predict": [1, 2, 4, 5, 7, 8], "look": [1, 2, 6], "two": [1, 4, 6, 7], "specifi": [1, 2, 5, 7], "resolv": 1, "0": [1, 6, 7, 8, 9], "how": [1, 2, 5, 8], "aggreg": [1, 2, 5, 6, 8, 9], "multipl": [1, 2, 5, 6, 8], "within": [1, 2, 6, 8], "lookahead": [1, 2, 6], "dai": [1, 6, 7, 8], "take": [1, 4, 7, 8], "group": 1, "input": [1, 6], "return": [1, 4, 7, 8], "singl": [1, 2, 6, 7, 8], "i": [1, 2, 3, 6, 7, 8, 9], "found": [1, 6], "window": [1, 2, 6], "whether": 1, "type": [1, 2, 4, 6, 7], "2": [1, 6, 7, 8, 9], "diabet": 1, "becaus": [1, 4], "onli": [1, 2, 6, 8], "experi": [1, 6], "onc": [1, 5, 6], "handl": [1, 6, 7], "vectoris": 1, "wai": [1, 7], "dure": 1, "resolut": 1, "faster": 1, "than": [1, 2, 7], "non": 1, "occur": [1, 2, 6], "feature_nam": 1, "default": [1, 4, 6], "pred": [1, 4, 6], "get_output_col_nam": 1, "get": [1, 3, 4, 7, 9], "output": [1, 4, 6, 7, 8, 9], "is_dichotom": 1, "check": [1, 8], "dichotom": 1, "properti": 1, "lookahead_period": 1, "model_computed_field": [1, 4], "classvar": [1, 4], "dict": [1, 4], "computedfieldinfo": [1, 4], "dictionari": [1, 4], "comput": [1, 4, 8], "field": [1, 4], "correspond": [1, 4, 6], "model_config": [1, 4], "configdict": [1, 4], "arbitrary_types_allow": [1, 4], "true": [1, 2, 4, 9], "extra": 1, "forbid": 1, "frozen": 1, "configur": [1, 4], "model": [1, 2, 4, 6, 8], "conform": [1, 4], "pydant": [1, 4], "config": [1, 4], "model_field": [1, 4], "fieldinfo": [1, 4], "annot": [1, 4, 6, 7, 8, 9], "list": [1, 4, 5, 6, 7, 8], "fals": [1, 4], "about": [1, 4, 6], "map": [1, 4], "thi": [1, 2, 4, 6, 7, 8, 9], "replac": [1, 4, 9], "__fields__": [1, 4], "v1": [1, 4], "predictorspec": [1, 4, 6, 7, 8, 9], "lookbehind_dai": [1, 6, 9], "predictor": [1, 2, 4, 5, 7, 9], "lookbehind": [1, 2, 6, 7, 8], "lookbehind_period": 1, "staticspec": [1, 4, 6, 7], "static": [1, 5], "can_be_coerced_losslessly_to_int": 1, "coerce_float": 1, "get_temporal_col_nam": 1, "tempor": [1, 5, 7], "packag": [2, 5], "data": [2, 4, 5, 7, 8], "machin": 2, "learn": 2, "implement": 2, "method": [2, 4], "includ": [2, 8], "convert": 2, "ani": [2, 4, 6, 8], "irregular": [2, 6], "row": [2, 6, 8], "desir": 2, "construct": 2, "raw": 2, "ar": [2, 4, 6, 7, 8, 9], "allow": [2, 4], "patient": [2, 6, 8], "independ": 2, "set": [2, 4, 6, 7], "particular": 2, "sever": 2, "choic": 2, "one": [2, 4, 6], "need": [2, 6, 8], "issu": [2, 6], "everi": [2, 6], "physic": 2, "visit": 2, "morn": 2, "anoth": [2, 6], "clinic": [2, 8], "meaning": 2, "far": [2, 6, 7, 8, 9], "back": 2, "ahead": [2, 6], "exist": 2, "point": [2, 6], "abov": [2, 7], "figur": 2, "graphic": 2, "repres": [2, 6], "terminologi": [2, 6], "determin": [2, 6, 7], "wherea": 2, "futur": [2, 6], "refer": [2, 6], "b": 2, "label": [2, 6], "neg": 2, "never": [2, 6], "happen": [2, 6], "outsid": [2, 6], "posit": [2, 6], "insid": [2, 6], "exampl": [2, 6, 7, 8], "mean": [2, 6, 8, 9], "shown": [2, 6], "max": [2, 6], "min": [2, 6], "etc": [2, 6], "d": [2, 7, 8], "drop": [2, 8], "extend": 2, "further": [2, 4], "start": [2, 3, 7, 8], "dataset": [2, 4, 5, 6, 7], "end": [2, 6], "behaviour": 2, "option": [2, 4], "obtain": 2, "rich": 2, "represent": 2, "see": [2, 4, 6, 7], "tutori": [2, 4, 7, 8], "placehold": 2, "case": [2, 6], "report": 2, "request": 2, "github": [2, 3], "tracker": 2, "otherwis": 2, "discuss": 2, "forum": 2, "bug": 2, "idea": 2, "usag": 2, "index": 2, "run": [3, 5], "follow": [3, 6], "line": 3, "termin": 3, "There": 3, "discrep": 3, "between": [3, 7], "latest": [3, 9], "version": [3, 9], "flatten": [4, 5, 7, 8], "describ": [4, 6], "speccollect": 4, "outcome_spec": [4, 6], "predictor_spec": [4, 7], "static_spec": 4, "collect": [4, 6, 7, 8], "spec": [4, 6, 7, 8, 9], "prediction_times_df": 4, "drop_pred_times_with_insufficient_look_dist": 4, "cach": 4, "featurecach": 4, "none": [4, 6], "entity_id_col_nam": [4, 6, 7, 8], "timestamp_col_nam": [4, 6, 7, 8], "predictor_col_name_prefix": 4, "outcome_col_name_prefix": 4, "n_worker": [4, 6], "60": 4, "log_to_stdout": 4, "turn": 4, "tabular": [4, 8], "add_ag": 4, "date_of_birth_df": 4, "date_of_birth_col_nam": 4, "date_of_birth": 4, "output_prefix": 4, "add": [4, 6, 7], "ag": [4, 7], "ha": [4, 8], "its": [4, 6], "own": 4, "function": [4, 5, 6, 8], "veri": 4, "frequent": [4, 6], "match": 4, "self": 4, "add_spec": 4, "sequenc": 4, "queue": 4, "unprocess": 4, "process": [4, 6, 7, 8], "until": 4, "call": [4, 6], "get_df": 4, "u": [4, 7], "more": [4, 6, 7], "effecti": 4, "parallelis": 4, "most": [4, 6, 9], "complex": 4, "li": 4, "For": [4, 6, 8], "document": 4, "those": [4, 9], "present": [4, 6], "we": [5, 6, 7, 8, 9], "recommend": 5, "go": [5, 6], "through": 5, "below": 5, "jupyt": 5, "notebook": 5, "download": 5, "local": 5, "introductori": 5, "load": [5, 7, 8], "do": [5, 6, 9], "thing": 5, "same": [5, 6], "timedelta": [5, 6, 8], "ad": [5, 6], "embed": 5, "especi": 6, "help": 6, "have": [6, 7, 8, 9], "complic": 6, "train": 6, "simpl": [6, 7, 9], "explain": 6, "appli": [6, 7], "consist": 6, "3": [6, 7, 8, 9], "step": 6, "": [6, 7, 8, 9], "simplest": 6, "first": [6, 7, 8], "predictin": 6, "element": 6, "context": 6, "__future__": [6, 7, 8, 9], "import": [6, 7, 8, 9], "skimpi": 6, "skim": 6, "timeseriesflattenerv2": [6, 7, 8, 9], "test": [6, 7, 8, 9], "load_synth_data": [6, 7, 8], "load_synth_prediction_tim": [6, 7, 8], "df_prediction_tim": [6, 7], "sort": [6, 7], "summari": 6, "count": [6, 9], "10000": 6, "int64": 6, "1": [6, 7, 8, 9], "datetime64": 6, "column_nam": 6, "na": [6, 8], "sd": 6, "p0": 6, "p25": 6, "p50": 6, "p75": 6, "p100": 6, "hist": 6, "5000": 6, "2900": 6, "2500": 6, "4900": 6, "7400": 6, "last": 6, "frequenc": 6, "1965": [6, 7, 8], "01": [6, 7, 9], "02": [6, 7, 8], "09": [6, 7, 8], "35": [6, 7], "00": [6, 7, 8], "1969": [6, 8], "12": [6, 7, 8], "31": [6, 8], "21": [6, 7, 8], "42": 6, "shape": [6, 7, 8], "10_000": 6, "entity_idtimestampi64datetim": 6, "\u03bc": [6, 7, 8], "01969": 6, "11": [6, 7, 8], "55": 6, "0011965": 6, "03": [6, 7, 8], "15": [6, 7, 8], "07": [6, 7, 8], "16": [6, 7, 8], "0021969": 6, "13": [6, 7], "23": [6, 7, 8], "18": [6, 7, 8], "0031968": 6, "04": [6, 7, 8], "0041965": 6, "28": [6, 7, 8], "33": [6, 7], "0051967": 6, "10": [6, 7, 8], "06": [6, 7, 8], "22": [6, 7, 8], "0071969": 6, "17": [6, 7, 8], "50": 6, "0081965": 6, "0091965": 6, "08": [6, 7, 8], "00101965": 6, "26": [6, 8], "45": 6, "00111966": 6, "54": 6, "00121968": 6, "hellip": 6, "99901965": 6, "0099901967": 6, "48": [6, 7], "0099911966": 6, "05": [6, 7, 8], "0099941965": 6, "20": [6, 7, 8], "19": [6, 7, 8], "0099941967": 6, "44": [6, 7], "0099951968": 6, "30": [6, 7], "0099951965": 6, "24": [6, 7], "0099961965": 6, "0099971967": 6, "52": [6, 7], "0099991965": 6, "14": [6, 7, 8], "59": 6, "0099991968": 6, "here": 6, "Then": 6, "our": [6, 7, 8], "differ": [6, 7], "timepoint": 6, "load_synth_predictor_float": [6, 7], "df_synth_predictor": [6, 7], "100000": 6, "float64": 6, "7500": 6, "5": [6, 7, 8], "9": [6, 7], "00015": 6, "7": 6, "37": 6, "100_000": 6, "entity_idtimestampvaluei64datetim": [6, 7, 8], "f6401967": 6, "000": [6, 7, 8], "17479301968": 6, "003": [6, 7], "07229301968": 6, "001": 6, "31575401969": 6, "002": [6, 7], "81248101967": 6, "98118501968": 6, "17320501969": 6, "29": 6, "009": 6, "94350501967": 6, "005": 6, "47079201967": 6, "97038201965": 6, "006": 6, "63000701969": 6, "79924601969": 6, "25": [6, 7, 8], "39": [6, 7], "868688": 6, "99991967": 6, "34": 6, "37950399991968": 6, "64574699991966": 6, "008": 6, "92417599991968": 6, "47": [6, 7], "3461599991967": 6, "004": [6, 7], "41452499991966": 6, "68446899991968": 6, "41": [6, 7, 8], "25053899991968": 6, "67190799991966": 6, "15879699991966": 6, "27": 6, "41445599991968": 6, "58": 6, "55249199991969": 6, "501553": 6, "again": 6, "could": 6, "sex": 6, "doesn": 6, "t": 6, "chang": 6, "over": 6, "let": [6, 7, 8], "load_synth_sex": 6, "df_synth_sex": 6, "9999": 6, "femal": 6, "9_999": 6, "entity_idfemalei64i6400112131405060708190100110": 6, "998819989099901999109992099930999419995099960999719998199990": 6, "As": [6, 8], "And": [6, 7, 8, 9], "lastli": 6, "ve": [6, 7], "chosen": 6, "binari": 6, "store": 6, "infer": 6, "sinc": [6, 9], "thei": [6, 7], "section": 6, "load_synth_outcom": 6, "df_synth_outcom": 6, "3103": 6, "4": [6, 7, 9], "5100": 6, "7600": 6, "3_103": 6, "i6456631966": 6, "46": 6, "00142011966": 6, "00140141965": 6, "00160501969": 6, "00112121969": 6, "53": [6, 7], "00168961968": 6, "00170921968": 6, "00152761967": 6, "00158031967": 6, "00157201969": 6, "00152641968": 6, "00118821969": 6, "8721969": 6, "0012321965": 6, "00143081967": 6, "00194231967": 6, "00171511966": 6, "00183241966": 6, "00163351969": 6, "00191701967": 6, "00152101969": 6, "00110001969": 6, "00113661969": 6, "32": 6, "00163741965": 6, "49": 6, "per": [6, 7], "now": [6, 7, 8], "recip": 6, "finish": 6, "firstli": 6, "main": 6, "decis": 6, "size": 6, "given": 6, "indic": 6, "code": 6, "dt": [6, 7, 8], "panda": [6, 9], "pd": [6, 9], "booleanoutcomespec": 6, "timestampvaluefram": [6, 7], "valuefram": [6, 7, 8], "maxaggreg": 6, "test_df": 6, "2020": 6, "init_fram": [6, 7], "init_df": [6, 7, 8], "value_timestamp_col_nam": [6, 7, 8], "lookahead_dist": 6, "365": [6, 7, 8], "column_prefix": [6, 8], "argument": 6, "values_df": 6, "hardcod": 6, "decid": 6, "least": 6, "both": 6, "accomplish": 6, "specifii": 6, "forward": 6, "search": 6, "certain": 6, "period": [6, 8], "befor": [6, 8], "instead": 6, "almost": 6, "entir": 6, "ident": 6, "except": 6, "past": 6, "numpi": [6, 7, 8], "np": [6, 7, 8], "meanaggreg": [6, 7, 8], "temporal_predictor_spec": 6, "value_fram": [6, 7], "renam": 6, "value_1": 6, "nan": [6, 7, 8], "lookbehind_dist": [6, 7, 8], "730": [6, 7, 8], "after": 6, "avoid": 6, "must": 6, "uniqu": 6, "rang": 6, "similar": [6, 7], "instanc": 6, "might": [6, 7], "creat": [6, 7, 8], "where": [6, 7], "182": 6, "easili": 6, "pass": [6, 7, 8], "temporal_interval_predictor_spec": 6, "value_2": 6, "slightli": [6, 7], "previou": 6, "provid": 6, "howev": 6, "By": 6, "filter": [6, 7, 8], "easi": 6, "manual": 6, "staticfram": 6, "sex_predictor_spec": 6, "don": 6, "re": [6, 8], "readi": [6, 8, 9], "instanti": 6, "df": [6, 7, 8, 9], "along": 6, "add_": 6, "parallel": 6, "oper": 6, "across": [6, 7], "core": 6, "predictiontimefram": [6, 7, 8], "predictiontime_fram": [6, 7, 8], "aggregate_timeseri": [6, 7, 8], "string": 6, "pred_female_fallback_na": 6, "n": 6, "pred_value_1_within_0_t": 6, "1072": 6, "72": 6, "015": 6, "6": [6, 7], "o_730_days_mean_fallbac": 6, "k_nan": 6, "pred_value_2_within_10_": 6, "2060": 6, "00039": 6, "to_365_days_mean_fallba": 6, "ck_nan": 6, "outc_value_within_0_to_": 6, "365_days_max_fallback_0": 6, "word": 6, "total": 6, "pred_time_uuid": 6, "20000": 6, "pred_female_fallback_nan": 6, "pred_value_1_within_0_to_730_days_mean_fallback_nan": 6, "pred_value_2_within_10_to_365_days_mean_fallback_nan": 6, "outc_value_within_0_to_365_days_max_fallback_0": 6, "display": 6, "shorten": 6, "col": [6, 7], "shortened_pr": 6, "predx": 6, "shortened_predinterv": 6, "predx_30_to_90": 6, "shortened_outcom": 6, "outc_i": 6, "display_df": 6, "entity_idtimestamppred_time_uuidpred_female_fallback_nanpredxpredx_30_to_90outc_yi64datetim": 6, "stri64f64f64i3299031968": 6, "quot": [6, 7, 8], "9903": [6, 7], "1968": [6, 7, 8], "9907630": 6, "154981074651966": 6, "7465": [6, 7], "1966": [6, 7], "8198720": [6, 7], "819872064471967": 6, "6447": [6, 7], "1967": [6, 7, 8], "5827455": 6, "396017021211966": 6, "2121": [6, 7], "627197": 6, "62719049271968": 6, "4927": [6, 7], "9572514": 6, "957251054751967": 6, "5475": 6, "9993366": 6, "081539031571969": 6, "3157": 6, "0683235": 6, "068323097931968": 6, "9793": 6, "2940388": 6, "091755059621965": 6, "5962": 6, "0nannan097681967": 6, "9768": 6, "3262864": 6, "959419098611969": 6, "9861": 6, "2793783": 6, "13028306571969": 6, "657": 6, "903614nan0": 6, "65421967": 6, "6542": 6, "1374246": 6, "205326056071966": 6, "5607": 6, "6503954": 6, "650395042281967": 6, "4228": 6, "7920144": 6, "353579083371965": 6, "8337": 6, "0nannan097451969": 6, "9745": 6, "3940743": 6, "858509072221966": 6, "7222": 6, "5255675": 6, "676133033851967": 6, "3385": 6, "7694845": 6, "463267071591966": 6, "7159": 6, "060577": 6, "69186901471965": 6, "147": 6, "1nannan014211968": 6, "1421": 6, "7324478": 6, "972364033531966": 6, "3353": 6, "6580637": 6, "658063019401968": 6, "1940": 6, "846514nan0": 6, "classif": 6, "citizen": 6, "identifi": 6, "prediciton": 6, "pred_": 6, "outc_": 6, "realiti": 7, "like": [7, 8, 9], "addition": 7, "some": [7, 8], "common": 7, "current": 7, "what": 7, "cover": [7, 8], "so": [7, 8, 9], "luckili": 7, "extrem": 7, "lookdist": 7, "combin": 7, "just": [7, 8], "suppli": 7, "off": 7, "interfac": 7, "featuer": 7, "work": [7, 9], "exactli": 7, "illustr": 7, "head": [7, 8], "f6494761969": 7, "81699546311967": 7, "81807438901969": 7, "50378910981965": 7, "51504116261966": 7, "353115": 7, "latestaggreg": 7, "helper": 7, "def": [7, 8], "make_timedelta_interv": 7, "start_dai": 7, "end_dai": 7, "break": 7, "down": 7, "distanc": 7, "therefor": 7, "expect": 7, "n_aggreg": 7, "n_lookbehind_dist": 7, "entity_idtimestamppred_time_uuidpred_value_within_0_to_30_days_mean_fallback_nanpred_value_within_0_to_30_days_latest_fallback_nanpred_value_within_30_to_365_days_mean_fallback_nanpred_value_within_30_to_365_days_latest_fallback_nanpred_value_within_365_to_730_days_mean_fallback_nanpred_value_within_365_to_730_days_latest_fallback_nani64datetim": 7, "strf64f64f64f64f64f6499031968": 7, "nannan0": 7, "154981nan1": 7, "408655nan74651966": 7, "819872nannannan64471967": 7, "nannan5": 7, "396017nan5": 7, "9562nan21211966": 7, "nannan7": 7, "62719nannannan49271968": 7, "nannan4": 7, "957251nannannan": 7, "sometim": 7, "measur": 7, "manner": 7, "simpli": [7, 8], "new": 7, "simul": 7, "with_column": 7, "new_predictor": 7, "random": 7, "rand": 7, "ignor": 7, "entity_idtimestampvaluenew_predictori64datetim": 7, "f64f6494761969": 7, "8169950": 7, "91801346311967": 7, "8180740": 7, "58460138901969": 7, "5037890": 7, "88295910981965": 7, "5150410": 7, "49357716261966": 7, "3531150": 7, "258481": 7, "try": 7, "minaggreg": 7, "slopeaggreg": 7, "allgreg": 7, "n_predictor": 7, "entity_idtimestamppred_time_uuidpred_value_within_0_to_30_days_min_fallback_nanpred_new_predictor_within_0_to_30_days_min_fallback_nanpred_value_within_0_to_30_days_slope_fallback_nanpred_new_predictor_within_0_to_30_days_slope_fallback_nanpred_value_within_30_to_365_days_min_fallback_nanpred_new_predictor_within_30_to_365_days_min_fallback_nanpred_value_within_30_to_365_days_slope_fallback_nanpred_new_predictor_within_30_to_365_days_slope_fallback_nanpred_value_within_365_to_730_days_min_fallback_nanpred_new_predictor_within_365_to_730_days_min_fallback_nanpred_value_within_365_to_730_days_slope_fallback_nanpred_new_predictor_within_365_to_730_days_slope_fallback_nani64datetim": 7, "strf64f64f64f64f64f64f64f64f64f64f64f6499031968": 7, "nannannannan0": 7, "1549810": 7, "448611nannan0": 7, "622990": 7, "359874": 7, "002354": 7, "00086674651966": 7, "978651nannannannannannan64471967": 7, "4034850": 7, "1485230": 7, "0042910": 7, "0000681": 7, "3083130": 7, "3464190": 7, "003735": 7, "00059321211966": 7, "nannannannan7": 7, "627190": 7, "21061nannannannannannan49271968": 7, "nannannannan1": 7, "7426010": 7, "2340750": 7, "0040350": 7, "000277nannannannan": 7, "commonli": 7, "seen": 7, "calcul": 7, "delta": 7, "birthdat": 7, "timedeltaspec": 7, "date": 7, "birth": 7, "load_synth_birthdai": 7, "df_birthdai": 7, "entity_idbirthdayi64datetim": 7, "90451932": 7, "0055321920": 7, "0022421917": 7, "007891930": 7, "51": 7, "0097151926": 7, "age_spec": 7, "birthdai": 7, "output_nam": 7, "time_format": 7, "second": 7, "minut": 7, "hour": 7, "without": 7, "entri": 7, "format": [7, 8], "entity_idtimestamppred_time_uuidpred_age_years_fallback_nani64datetim": 7, "strf6499031968": 7, "15400474651966": 7, "87405964471967": 7, "5229321211966": 7, "56": 7, "34770749271968": 7, "70089": 7, "sure": 7, "polar": [7, 8], "pl": [7, 8], "15400499031965": 7, "36": [7, 8], "670773": 7, "dealt": 8, "show": 8, "out": 8, "alreadi": 8, "synthet": 8, "other": 8, "load_synth_text": 8, "synth_text": 8, "str46471967": 8, "20071966": 8, "57991967": 8, "13191969": 8, "42341966": 8, "often": 8, "while": 8, "advantag": 8, "emb": 8, "speed": 8, "up": 8, "block": 8, "tf": 8, "idf": 8, "form": 8, "constraint": 8, "result": 8, "entity_id_col": 8, "timestamp_col": 8, "purpos": 8, "demonstr": 8, "fit": 8, "small": 8, "captur": 8, "sklearn": 8, "feature_extract": 8, "tfidfvector": 8, "embed_text_to_df": 8, "tfidf_model": 8, "max_featur": 8, "fit_transform": 8, "toarrai": 8, "schema": 8, "get_feature_names_out": 8, "tolist": 8, "embedded_text": 8, "to_list": 8, "origin": 8, "metadata_onli": 8, "concaten": 8, "embedded_text_with_metadata": 8, "concat": 8, "horizont": 8, "entity_idtimestampandforinoforpatientthatthetowasi64datetim": 8, "f64f64f64f64f64f64f64f64f64f6446471967": 8, "1758720": 8, "1820660": 8, "2498480": 8, "158430": 8, "0230420": 8, "3113890": 8, "5299660": 8, "4902030": 8, "47931220071966": 8, "244870": 8, "1352820": 8, "0643370": 8, "4650840": 8, "3368590": 8, "1517430": 8, "7298610": 8, "1791610": 8, "057991967": 8, "1923670": 8, "2323320": 8, "2834020": 8, "3369520": 8, "1764220": 8, "2384160": 8, "6468790": 8, "2502170": 8, "38227713191969": 8, "1656350": 8, "2000460": 8, "1830150": 8, "2611150": 8, "1258370": 8, "1519060": 8, "2052850": 8, "7595280": 8, "4039610": 8, "09874742341966": 8, "4934610": 8, "1191960": 8, "2726190": 8, "2074440": 8, "0452560": 8, "1834750": 8, "5883240": 8, "4332530": 8, "235349": 8, "feature_spec": [8, 9], "meta": 8, "text_spec": 8, "pred_tfidf": 8, "would": 8, "normal": 8, "prediction_tim": 8, "wa": 8, "selector": 8, "sake": 8, "all_horizont": 8, "is_not_nan": 8, "entity_idtimestamppred_time_uuidpred_tfidf_and_within_0_to_365_days_mean_fallback_nanpred_tfidf_for_within_0_to_365_days_mean_fallback_nanpred_tfidf_in_within_0_to_365_days_mean_fallback_nanpred_tfidf_of_within_0_to_365_days_mean_fallback_nanpred_tfidf_or_within_0_to_365_days_mean_fallback_nanpred_tfidf_patient_within_0_to_365_days_mean_fallback_nanpred_tfidf_that_within_0_to_365_days_mean_fallback_nanpred_tfidf_the_within_0_to_365_days_mean_fallback_nanpred_tfidf_to_within_0_to_365_days_mean_fallback_nanpred_tfidf_was_within_0_to_365_days_mean_fallback_nanpred_tfidf_and_within_0_to_730_days_mean_fallback_nanpred_tfidf_for_within_0_to_730_days_mean_fallback_nanpred_tfidf_in_within_0_to_730_days_mean_fallback_nanpred_tfidf_of_within_0_to_730_days_mean_fallback_nanpred_tfidf_or_within_0_to_730_days_mean_fallback_nanpred_tfidf_patient_within_0_to_730_days_mean_fallback_nanpred_tfidf_that_within_0_to_730_days_mean_fallback_nanpred_tfidf_the_within_0_to_730_days_mean_fallback_nanpred_tfidf_to_within_0_to_730_days_mean_fallback_nanpred_tfidf_was_within_0_to_730_days_mean_fallback_nani64datetim": 8, "strf64f64f64f64f64f64f64f64f64f64f64f64f64f64f64f64f64f64f64f6449771968": 8, "4977": 8, "1458090": 8, "088050": 8, "4833240": 8, "5363390": 8, "2215490": 8, "1337220": 8, "0903560": 8, "534890": 8, "2844850": 8, "0869270": 8, "08692768401965": 8, "6840": 8, "1558210": 8, "3763860": 8, "2582560": 8, "5731680": 8, "3551420": 8, "0714520": 8, "0965610": 8, "285810": 8, "456030": 8, "0928960": 8, "092896181968": 8, "4010140": 8, "6015210": 8, "6398480": 8, "260680": 8, "2606898321969": 8, "9832": 8, "2250440": 8, "1019240": 8, "1864930": 8, "2365130": 8, "1282280": 8, "1031950": 8, "8255580": 8, "1646550": 8, "335410": 8, "3354172811967": 8, "7281": 8, "2896630": 8, "043730": 8, "2800490": 8, "3044250": 8, "3851110": 8, "3320650": 8, "2692510": 8, "4648910": 8, "2119340": 8, "3885470": 8, "388547": 8, "user": 9, "rewrit": 9, "written": 9, "api": 9, "predictorgroupspec": 9, "were": 9, "ones": 9, "had": 9, "sai": 9, "boolean": 9, "change_per_dai": 9, "earliest": 9, "maximum": 9, "minimum": 9, "sum": 9, "varianc": 9, "group_spec": 9, "nameddatafram": 9, "single_spec": 9, "version1predictorspec": 9, "legacy_spec": 9, "named_datafram": 9, "2013": 9, "dw_ek_borg": 9, "test2": 9, "create_combin": 9, "print": 9, "f": 9, "isinst": 9, "compat": 9, "from_legaci": 9, "version2predictorspec": 9, "new_spec": 9}, "objects": {"timeseriesflattener.feature_specs": [[1, 0, 0, "-", "single_specs"]], "timeseriesflattener.feature_specs.single_specs": [[1, 1, 1, "", "CoercedFloats"], [1, 1, 1, "", "LookPeriod"], [1, 1, 1, "", "OutcomeSpec"], [1, 1, 1, "", "PredictorSpec"], [1, 1, 1, "", "StaticSpec"], [1, 5, 1, "", "can_be_coerced_losslessly_to_int"], [1, 5, 1, "", "coerce_floats"], [1, 5, 1, "", "get_temporal_col_name"]], "timeseriesflattener.feature_specs.single_specs.CoercedFloats": [[1, 2, 1, "", "fallback"], [1, 2, 1, "", "lookperiod"]], "timeseriesflattener.feature_specs.single_specs.LookPeriod": [[1, 2, 1, "", "max_days"], [1, 2, 1, "", "min_days"]], "timeseriesflattener.feature_specs.single_specs.OutcomeSpec": [[1, 2, 1, "", "aggregation_fn"], [1, 2, 1, "", "fallback"], [1, 2, 1, "", "feature_base_name"], [1, 3, 1, "", "get_output_col_name"], [1, 2, 1, "", "incident"], [1, 3, 1, "", "is_dichotomous"], [1, 2, 1, "", "lookahead_days"], [1, 4, 1, "", "lookahead_period"], [1, 2, 1, "", "model_computed_fields"], [1, 2, 1, "", "model_config"], [1, 2, 1, "", "model_fields"], [1, 2, 1, "", "prefix"], [1, 2, 1, "", "timeseries_df"]], "timeseriesflattener.feature_specs.single_specs.PredictorSpec": [[1, 2, 1, "", "aggregation_fn"], [1, 2, 1, "", "fallback"], [1, 2, 1, "", "feature_base_name"], [1, 3, 1, "", "get_output_col_name"], [1, 2, 1, "", "lookbehind_days"], [1, 4, 1, "", "lookbehind_period"], [1, 2, 1, "", "model_computed_fields"], [1, 2, 1, "", "model_config"], [1, 2, 1, "", "model_fields"], [1, 2, 1, "", "prefix"], [1, 2, 1, "", "timeseries_df"]], "timeseriesflattener.feature_specs.single_specs.StaticSpec": [[1, 2, 1, "", "feature_base_name"], [1, 3, 1, "", "get_output_col_name"], [1, 2, 1, "", "model_computed_fields"], [1, 2, 1, "", "model_config"], [1, 2, 1, "", "model_fields"], [1, 2, 1, "", "prefix"], [1, 2, 1, "", "timeseries_df"]], "timeseriesflattener": [[4, 0, 0, "-", "flattened_dataset"]], "timeseriesflattener.flattened_dataset": [[4, 1, 1, "", "SpecCollection"], [4, 1, 1, "", "TimeseriesFlattener"]], "timeseriesflattener.flattened_dataset.SpecCollection": [[4, 2, 1, "", "model_computed_fields"], [4, 2, 1, "", "model_config"], [4, 2, 1, "", "model_fields"], [4, 2, 1, "", "outcome_specs"], [4, 2, 1, "", "predictor_specs"], [4, 2, 1, "", "static_specs"]], "timeseriesflattener.flattened_dataset.TimeseriesFlattener": [[4, 3, 1, "", "add_age"], [4, 3, 1, "", "add_spec"], [4, 3, 1, "", "compute"], [4, 3, 1, "", "get_df"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:attribute", "3": "py:method", "4": "py:property", "5": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "attribute", "Python attribute"], "3": ["py", "method", "Python method"], "4": ["py", "property", "Python property"], "5": ["py", "function", "Python function"]}, "titleterms": {"frequent": 0, "ask": [0, 2], "question": [0, 2], "cite": 0, "thi": 0, "packag": 0, "how": [0, 6], "do": [0, 7], "i": 0, "test": 0, "code": 0, "run": 0, "suit": 0, "document": 0, "gener": [0, 8], "featur": [1, 7, 8, 9], "specif": [1, 6, 9], "timeseriesflatten": [1, 2, 4], "feature_spec": 1, "single_spec": 1, "function": [2, 7], "where": 2, "indic": 2, "search": 2, "instal": 3, "flattened_dataset": 4, "tutori": [5, 6], "get": 5, "start": 5, "introductori": 6, "load": 6, "data": 6, "predict": 6, "time": 6, "tempor": 6, "predictor": [6, 8], "static": 6, "outcom": 6, "specifi": 6, "flatten": 6, "multipl": 7, "thing": 7, "onc": 7, "aggreg": 7, "lookperiod": 7, "valu": 7, "from": [7, 8, 9], "same": 7, "datafram": 7, "timedelta": 7, "ad": 8, "text": 8, "The": 8, "dataset": 8, "embed": 8, "creat": 9, "legaci": 9}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx": 57}, "alltitles": {"Frequently Asked Questions": [[0, "frequently-asked-questions"]], "Citing this package": [[0, "citing-this-package"]], "How do I test the code and run the test suite?": [[0, "how-do-i-test-the-code-and-run-the-test-suite"]], "How is the documentation generated?": [[0, "how-is-the-documentation-generated"]], "Feature specifications": [[1, "feature-specifications"]], "timeseriesflattener.feature_specs.single_specs": [[1, "module-timeseriesflattener.feature_specs.single_specs"]], "timeseriesflattener": [[2, "timeseriesflattener"]], "Functionality": [[2, "functionality"]], "Where to ask questions?": [[2, "where-to-ask-questions"]], "Indices and search": [[2, "indices-and-search"]], "Installation": [[3, "installation"]], "Timeseriesflattener": [[4, "timeseriesflattener"]], "timeseriesflattener.flattened_dataset": [[4, "module-timeseriesflattener.flattened_dataset"]], "Tutorials": [[5, "tutorials"]], "Getting started": [[5, null]], "Introductory Tutorial": [[6, "introductory-tutorial"]], "Loading data": [[6, "loading-data"]], "Loading prediction times": [[6, "loading-prediction-times"]], "Loading a temporal predictor": [[6, "loading-a-temporal-predictor"]], "Loading a static predictor": [[6, "loading-a-static-predictor"]], "Loading a temporal outcome": [[6, "loading-a-temporal-outcome"]], "Specifying how to flatten the data": [[6, "specifying-how-to-flatten-the-data"]], "Temporal outcome specification": [[6, "temporal-outcome-specification"]], "Temporal predictor specification": [[6, "temporal-predictor-specification"]], "Static predictor specification": [[6, "static-predictor-specification"]], "Flattening": [[6, "flattening"]], "Doing multiple things at once!": [[7, "doing-multiple-things-at-once"]], "Multiple aggregation functions and lookperiods": [[7, "multiple-aggregation-functions-and-lookperiods"]], "Multiple values from the same dataframe": [[7, "multiple-values-from-the-same-dataframe"]], "TimeDelta features": [[7, "timedelta-features"]], "Adding text features": [[8, "adding-text-features"]], "The dataset": [[8, "the-dataset"]], "Generating predictors from embedded text": [[8, "generating-predictors-from-embedded-text"]], "Creating features from legacy feature specifications": [[9, "creating-features-from-legacy-feature-specifications"]]}, "indexentries": {"coercedfloats (class in timeseriesflattener.feature_specs.single_specs)": [[1, "timeseriesflattener.feature_specs.single_specs.CoercedFloats"]], "lookperiod (class in timeseriesflattener.feature_specs.single_specs)": [[1, "timeseriesflattener.feature_specs.single_specs.LookPeriod"]], "outcomespec (class in timeseriesflattener.feature_specs.single_specs)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec"]], "predictorspec (class in timeseriesflattener.feature_specs.single_specs)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec"]], "staticspec (class in timeseriesflattener.feature_specs.single_specs)": [[1, "timeseriesflattener.feature_specs.single_specs.StaticSpec"]], "aggregation_fn (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.aggregation_fn"]], "aggregation_fn (predictorspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.aggregation_fn"]], "can_be_coerced_losslessly_to_int() (in module timeseriesflattener.feature_specs.single_specs)": [[1, "timeseriesflattener.feature_specs.single_specs.can_be_coerced_losslessly_to_int"]], "coerce_floats() (in module timeseriesflattener.feature_specs.single_specs)": [[1, "timeseriesflattener.feature_specs.single_specs.coerce_floats"]], "fallback (coercedfloats attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.CoercedFloats.fallback"]], "fallback (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.fallback"]], "fallback (predictorspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.fallback"]], "feature_base_name (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.feature_base_name"]], "feature_base_name (predictorspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.feature_base_name"]], "feature_base_name (staticspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.StaticSpec.feature_base_name"]], "get_output_col_name() (outcomespec method)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.get_output_col_name"]], "get_output_col_name() (predictorspec method)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.get_output_col_name"]], "get_output_col_name() (staticspec method)": [[1, "timeseriesflattener.feature_specs.single_specs.StaticSpec.get_output_col_name"]], "get_temporal_col_name() (in module timeseriesflattener.feature_specs.single_specs)": [[1, "timeseriesflattener.feature_specs.single_specs.get_temporal_col_name"]], "incident (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.incident"]], "is_dichotomous() (outcomespec method)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.is_dichotomous"]], "lookahead_days (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.lookahead_days"]], "lookahead_period (outcomespec property)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.lookahead_period"]], "lookbehind_days (predictorspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.lookbehind_days"]], "lookbehind_period (predictorspec property)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.lookbehind_period"]], "lookperiod (coercedfloats attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.CoercedFloats.lookperiod"]], "max_days (lookperiod attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.LookPeriod.max_days"]], "min_days (lookperiod attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.LookPeriod.min_days"]], "model_computed_fields (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.model_computed_fields"]], "model_computed_fields (predictorspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.model_computed_fields"]], "model_computed_fields (staticspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.StaticSpec.model_computed_fields"]], "model_config (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.model_config"]], "model_config (predictorspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.model_config"]], "model_config (staticspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.StaticSpec.model_config"]], "model_fields (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.model_fields"]], "model_fields (predictorspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.model_fields"]], "model_fields (staticspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.StaticSpec.model_fields"]], "module": [[1, "module-timeseriesflattener.feature_specs.single_specs"], [4, "module-timeseriesflattener.flattened_dataset"]], "prefix (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.prefix"]], "prefix (predictorspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.prefix"]], "prefix (staticspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.StaticSpec.prefix"]], "timeseries_df (outcomespec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.OutcomeSpec.timeseries_df"]], "timeseries_df (predictorspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.PredictorSpec.timeseries_df"]], "timeseries_df (staticspec attribute)": [[1, "timeseriesflattener.feature_specs.single_specs.StaticSpec.timeseries_df"]], "timeseriesflattener.feature_specs.single_specs": [[1, "module-timeseriesflattener.feature_specs.single_specs"]], "speccollection (class in timeseriesflattener.flattened_dataset)": [[4, "timeseriesflattener.flattened_dataset.SpecCollection"]], "timeseriesflattener (class in timeseriesflattener.flattened_dataset)": [[4, "timeseriesflattener.flattened_dataset.TimeseriesFlattener"]], "add_age() (timeseriesflattener method)": [[4, "timeseriesflattener.flattened_dataset.TimeseriesFlattener.add_age"]], "add_spec() (timeseriesflattener method)": [[4, "timeseriesflattener.flattened_dataset.TimeseriesFlattener.add_spec"]], "compute() (timeseriesflattener method)": [[4, "timeseriesflattener.flattened_dataset.TimeseriesFlattener.compute"]], "get_df() (timeseriesflattener method)": [[4, "timeseriesflattener.flattened_dataset.TimeseriesFlattener.get_df"]], "model_computed_fields (speccollection attribute)": [[4, "timeseriesflattener.flattened_dataset.SpecCollection.model_computed_fields"]], "model_config (speccollection attribute)": [[4, "timeseriesflattener.flattened_dataset.SpecCollection.model_config"]], "model_fields (speccollection attribute)": [[4, "timeseriesflattener.flattened_dataset.SpecCollection.model_fields"]], "outcome_specs (speccollection attribute)": [[4, "timeseriesflattener.flattened_dataset.SpecCollection.outcome_specs"]], "predictor_specs (speccollection attribute)": [[4, "timeseriesflattener.flattened_dataset.SpecCollection.predictor_specs"]], "static_specs (speccollection attribute)": [[4, "timeseriesflattener.flattened_dataset.SpecCollection.static_specs"]], "timeseriesflattener.flattened_dataset": [[4, "module-timeseriesflattener.flattened_dataset"]]}})